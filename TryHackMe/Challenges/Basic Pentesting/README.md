# Basic Pentesting
This is a machine that allows you to practise web app hacking and privilege escalation  

## Enumeration

Nmap Scan:

![Image1]()
The following ports were found open:
- SSH [22]
- SMB [139,445]
- HTTP [80,8080]
- AJL13 [8009]

Gobusting:

![Image2]()

The following hidden directory was revealed:
- /development

When I reached out to that directory it gave me 2 txt file.

![Image3]()

1 gave me hint that the applied password policy of agent J is weak... and another gave me the versions of the services that are implemented in site.

### Username Enum

After a while I started to enumerate the usernames via hydra but that didn't work... Scratched my head a bit and started to enumerate the machine via smb, using ```enum4linux -a <IP>```. It found two users on the box i.e. kay and jan.

![Image4]()

## Gaining Access
I bruteforced the username jan with a list of passwords using hydra on port 22 i.e. ssh, which eventually gave me the password ```armando```. 

![Image5]()

After logging in via ssh, I rome around a bit, found as little as nothing. I then found that we have another user called kay on the machine. So I went into his directory, found a file ```pass.bak```, unfortunately we don't have read access to the file, so I went in ```.ssh``` directory found a encrypted private key. 

![Image6]()

## Escalating Privileges
 Cracking the Private Key

I copied the encrypted key, paste it in a file and used john on it.  Firstly, converting the encrypted file into john crackable format using the command ```sudo /usr/share/john/ssh2john.py <file with encrypted key> > <output file>```. After that run john on the output file.

![Image7]()

Using this password we can decrypt the private key in the .ssh directory of the user kay. 

![Image8]()

After gaining access to the user kay, read the pass.bak file and you will be given answer to the last task.

